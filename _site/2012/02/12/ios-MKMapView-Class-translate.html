<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Ios5 MKMapView Class 翻译</title>
   <meta name="author" content="Tom Preston-Werner" />
   <link href="http://feeds.feedburner.com/tom-preston-werner" rel="alternate" title="Tom Preston-Werner" type="application/atom+xml" />

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />

   <!-- Typekit -->
   <script type="text/javascript" src="http://use.typekit.com/jpd0pfm.js"></script>
   <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body>

<!-- ClickTale Top part -->
<script type="text/javascript">
var WRInitTime=(new Date()).getTime();
</script>
<!-- ClickTale end of Top part -->

<div class="site">
  <div class="title">
    <a href="/">timger's blog</a>
    <a class="extra" href="/">home</a>
  </div>
  
  <div id="post">
<p>==============</p>

<p class="meta">12 Feb 2012 -beijing</p>


<p>MKMapView Class Reference</p>

<p>Inherits from  继承自</p>

<p>UIView : UIResponder : NSObject</p>

<p>Conforms to 符合</p>

<h2>NSCoding</h2>

<ul>
<li><code>NSCoding (UIView)</code></li>
<li><code>UIAppearance (UIView)</code></li>
<li><code>UIAppearanceContainer (UIView)</code></li>
<li><code>NSObject NSObject</code></li>
</ul>


<h3>Framework</h3>

<h2>*  <code>/System/Library/Frameworks/MapKit.framework</code></h2>

<p>Availability  <br/>
Available in iOS 3.0 and later. 在ios3.0版本以上支持
Declared in  申明在 <code>MKMapView.h</code>,<code>MKTypes.h</code></p>

<h2>Related sample code 关联代码</h2>

<ul>
<li>HazardMap</li>
<li>KMLViewer</li>
<li>MapCallouts</li>
<li>WeatherMap</li>
<li>WorldCities</li>
</ul>


<h3>Overview  概述</h3>

<p>An MKMapView object provides an embeddable map interface, similar to the one provided by the Maps application. You use this class as-is to display map information and to manipulate the map contents from your application. You can center the map on a given coordinate, specify the size of the area you want to display, and annotate the map with custom information.</p>

<p>MKMapView 对象提供一个可以镶嵌的地图元素,和一个提供地图服务的app相似，你可以使用这个<code>class</code>在你的app里面显示地图元素,你可以根据你的需求来自定义地图显示方式，</p>

<p>Important The Map Kit framework uses Google services to provide map data. Use of this class and the associated interfaces binds you to the Google Maps/Google Earth API terms of service. You can find these terms of service at http://code.google.com/apis/maps/iphone/terms.html.
When you initialize a map view, you should specify the initial region for that map to display. You do this by setting the region property of the map. A region is defined by a center point and a horizontal and vertical distance, referred to as the span. The span defines how much of the map at the given point should be visible and is also how you set the zoom level. Specifying a large span results in the user seeing a wide geographical area and corresponds to a low zoom level. Specifying a small span results in the user seeing a more narrow geographical area and corresponds to a higher zoom level.</p>

<p>Map Kit 框架使用google地图提供的数据,使用这个class需要遵守google map的协议
当你初始化一个Map View 你需要指定地图显示的初始位置，你可以在<code>region</code>属性里面设置，地区是一个中心点和横纵的距离,简称跨度, <code>span</code> 定义了显示多少地图和地图的放大级别，指定一个大的跨度和一个小的放大级别用户可以看到一个大的geo图，指定一个小的跨度和大的放大级别，用户可以看到一个很详细的地图，</p>

<p>In addition to setting the span programmatically, the MKMapView class supports many standard interactions for changing the position and zoom level of the map. In particular, map views support flick and pinch gestures for scrolling around the map and zooming in and out. Support for these gestures is enabled by default but can also be disabled using the scrollEnabled and zoomEnabled properties.</p>

<p>除了编程方式设置跨度之外，MKMapView类支持许多标准的相互作用，改变位置和缩放地图。特别地，地图view支持各地的地图，滚动和缩放手势操作，默认情况下启用这些手势的支持，禁止手势而使用scrollEnabled和zoomEnabled来改变地图视图。</p>

<p>In iOS 4.0 and later, you can also use projected map coordinates instead of regions to specify some values. When you project the curved surface of the globe onto a flat surface, you get a two-dimensional version of a map where longitude lines appear to be parallel. Locations and distances on this map are specified using the MKMapPoint, MKMapSize, and MKMapRect data types. You can use these data types to specify the map’s visible region and when specifying the location of overlays.</p>

<p>在iOS 4.0和更高版本中，你也可以使用坐标，而不是地区。当你一个平面投射在地球的曲面，你得到一个二维的地图经度线。地图上的位置和距离都指定使用的MKMapPoint，MKMapSize和类型MKMapRect的数据。您可以使用这些数据类型指定地图的可见区域，并在指定位置重叠视图</p>

<p>Although you should not subclass the MKMapView class itself, you can get information about the map view’s behavior by providing a delegate object. The map view calls the methods of your custom delegate to let it know about changes in the map status and to coordinate the display of custom annotations, which are described in more detail in “Annotating the Map.” The delegate object can be any object in your application as long as it conforms to the MKMapViewDelegate protocol. For more information about implementing the delegate object, see MKMapViewDelegate Protocol Reference.</p>

<p>你不应该继承的MKMapView类本身，你可以使用地图视图的委托对象。通过地图视图调用您的自定义委托方法，让它知道在地图上的地位的变化和一些用户操作，这是更详细的描述显示“标注的地图。”委托对象可以是在您的应用程序中的任何对象，只要符合的MKMapViewDelegate协议。关于委托对象的更多信息，请参阅MKMapViewDelegate协议参考。</p>

<h3>Annotating the Map 标注地图</h3>

<p>The MKMapView class supports the ability to annotate the map with custom information. Because a map may have potentially large numbers of annotations, map views differentiate between the annotation objects used to manage the annotation data and the view objects for presenting that data on the map.</p>

<p>标注地图的MKMapView类支持注释自定义信息的地图。因为地图上可能有潜在的大量的注释，地图视图用于管理注释数据，并呈现在地图上的数据视图对象的注释对象之间的区别。</p>

<p>An annotation object is any object that conforms to the MKAnnotation protocol. Annotation objects are typically implemented using existing classes in your application’s data model. This allows you to manipulate the annotation data directly but still make it available to the map view. Each annotation object contains information about the annotation’s location on the map along with descriptive information that can be displayed in a callout.</p>

<p>注释对象是符合的MKAnnotation协议的任何对象。注释对象通常存在你的app的data model calss 这允许你直接操纵的注释数据，也可以在地图视图中使用。每个标注对象包含在地图上标注的位置，以及描述信息，可以显示在标注的信息。</p>

<p>The presentation of annotation objects on the screen is handled by an annotation view, which is an instance of the MKAnnotationView class. An annotation view is responsible for presenting the annotation data in a way that makes sense. For example, the Maps application uses a pin icon to denote specific points of interest on a map. (The Map Kit framework offers the MKPinAnnotationView class for similar annotations in your own applications.) You could also create annotation views that cover larger portions of the map.</p>

<p>注释对象在屏幕上的演示文稿是由注释view 处理的，这是一个的MKAnnotationView类的实例。注释view 是负责提供注释数据。例如，“地图”app 使用的图钉图标来表示特定地图上的某个特定的点。（地图Kit框架提供MKPinAnnotationView 用于在自己的应用程序创建注释）。你还可以创建标注的地图，涵盖较大的部分。</p>

<p>Because annotation views are needed only when they are onscreen, the MKMapView class provides a mechanism for queueing annotation views that are not in use. Annotation views with a reuse identifier can be detached and queued internally by the map view when they move offscreen. This feature improves memory use by keeping only a small number of annotation views in memory at once and by recycling the views you do have. It also improves scrolling performance by alleviating the need to create new views while the map is scrolling.</p>

<p>pView类提供为排队机制。一个可重用的注释视图可以分裂和排队当这个视图移出屏幕的时候，此功能能够改善内存使用也提高了性能</p>

<p>When configuring your map interface, you should add all of your annotation objects right away. The map view uses the coordinate data in each annotation object to determine when the corresponding annotation view needs to appear onscreen. When an annotation moves onscreen, the map view asks its delegate to create a corresponding annotation view. If your application has different types of annotations, it can define different annotation view classes to represent each type.</p>

<p>配置你的地图界面时，你应该马上添加您的注释对象。地图视图在每个注解对象使用坐标数据，以确定相应的注解认为需要时出现在屏幕上。当一个注释展示到屏幕的时候，地图视图要求其委托创建一个相应的注解视图。如果您的应用程序有不同类型的注释，它可以定义不同的注解视图类代表每个类型。</p>

<h3>Adding Overlays to the Map 添加覆盖地图</h3>

<p>In iOS 4.0 and later, you can use overlays to display content over a wide portion of the map. An overlay is any object that conforms to the MKOverlay protocol. An overlay object is a data object that contains the points needed to specify the shape and size of the overlay and its location on the map. Overlays can represent shapes such as circles, rectangles, multi-segment lines, and simple or complex polygons. You can also define your own custom overlays to represent other shapes.</p>

<p>添加覆盖地图在iOS 4.0后，您可以使用重叠显示的地图的部分内容。‘覆盖’是符合的MKOverlay协议的任何对象。一个‘覆盖对象’是一个数据对象，其中包含指定的叠加，其位置在地图上的形状和大小的点。‘覆盖对象’可以代表形状，如圆，矩形，多段线，简单或复杂的多边形。你也可以使用其他形状定义自己的自定义覆盖</p>

<p>The presentation of an overlay onscreen is handled by an overlay view, which is an instance of the MKOverlayView class. The job of an overlay view is to draw the shape representing the overlay on top of the map content. For example, an overlay that represents a bus route might have an overlay view that draws the path of the route along with icons showing the stops along that route. The Map Kit framework defines overlay views for the standard types of overlay objects and you can define additional overlay views as needed.</p>

<p>‘叠加演示‘是用叠加view处理，这是一个的MKOverlayView类的实例。一个’覆盖视图‘​​的工作是绘制地图内容上的重叠的形状。例如，表示巴士路线重叠可能有一个重叠视图绘制的路线，沿着图标显示站，沿这条路线的路径。MapKit框架定义为’覆盖对象‘的标准类型的覆盖意见，并可以定义额外的覆盖需要的意见。</p>

<p>When configuring your map interface, you can add overlay objects at any time. The map view uses the data in each overlay object to determine when the corresponding overlay view needs to appear onscreen. When an overlay moves onscreen, the map view asks its delegate to create a corresponding overlay view.</p>

<p>配置你的地图界面时，您可以随时添加的覆盖对象。地图视图中的每个重叠对象中使用的数据，以确定相应的重叠视图需要出现在屏幕上时。当覆盖移动可视屏幕上的，地图视图询问委托创建一个相应的重叠视图。</p>

<h3>Tasks</h3>

<h4>Accessing Map Properties</h4>

<ul>
<li><code>mapType  property</code></li>
<li><code>zoomEnabled  property</code></li>
<li><code>scrollEnabled  property</code>

<h4>Accessing the Delegate</h4></li>
<li>delegate  property

<h4>Manipulating the Visible Portion of the Map</h4>

<h5>region  property</h5></li>
<li><code>– setRegion:animated:</code></li>
<li>  <code>centerCoordinate  property</code></li>
<li><code>– setCenterCoordinate:animated:</code></li>
<li>  <code>visibleMapRect  property</code>

<h5>– setVisibleMapRect:animated:</h5></li>
<li><code>– setVisibleMapRect:edgePadding:animated:</code>

<h5>Accessing the Device’s Current Location</h5></li>
<li>showsUserLocation  property</li>
<li>userLocationVisible  property</li>
<li>userLocation  property

<h5>Annotating the Map</h5></li>
<li>annotations  property</li>
<li><code>– addAnnotation:</code></li>
<li><code>– addAnnotations:</code></li>
<li><code>– removeAnnotation:</code></li>
<li><code>– removeAnnotations:</code></li>
<li><code>– viewForAnnotation:</code></li>
<li><code>– annotationsInMapRect:</code></li>
<li><code>annotationVisibleRect  property</code></li>
<li><code>– dequeueReusableAnnotationViewWithIdentifier:</code>

<h5>Managing Annotation Selections</h5></li>
<li>selectedAnnotations  property</li>
<li>– selectAnnotation:animated:</li>
<li>– deselectAnnotation:animated:

<h5>Adding and Removing Overlays</h5></li>
<li>overlays  property</li>
<li>– addOverlay:</li>
<li>– addOverlays:</li>
<li>– removeOverlay:</li>
<li>– removeOverlays:</li>
<li>– insertOverlay:atIndex:</li>
<li>– exchangeOverlayAtIndex:withOverlayAtIndex:</li>
<li>– insertOverlay:aboveOverlay:</li>
<li>– insertOverlay:belowOverlay:</li>
<li>– viewForOverlay:

<h5>Converting Map Coordinates</h5></li>
<li>– convertCoordinate:toPointToView:</li>
<li>– convertPoint:toCoordinateFromView:</li>
<li>– convertRegion:toRectToView:</li>
<li>– convertRect:toRegionFromView:

<h5>Adjusting Map Regions and Rectangles</h5></li>
<li>– regionThatFits:</li>
<li>– mapRectThatFits:</li>
<li>– mapRectThatFits:edgePadding:

<h4>Tracking the User Location</h4></li>
<li>– setUserTrackingMode:animated:</li>
<li>userTrackingMode  property

<h4>Properties</h4></li>
</ul>


<p>For more about Objective-C properties, see “Properties” in The Objective-C Programming Language.
参见<a href="https://developer.apple.com/library/ios/#documentation/MapKit/Reference/MKMapViewDelegate_Protocol/MKMapViewDelegate/MKMapViewDelegate.html" title="MKMapView">官方文档</a> .</p>

</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>01 Mar 2012</span> &raquo; <a href="/2012/03/01/ios-core-data-beging.html">ios core data使用初记</a></li>
    
      <li><span>23 Feb 2012</span> &raquo; <a href="/2012/02/23/facebook-scribe-install-useage.html">facebook scribe  使用</a></li>
    
      <li><span>20 Feb 2012</span> &raquo; <a href="/2012/02/20/fancybox-useage-note.html">fancybox 使用小记</a></li>
    
  </ul>
</div>
<!-- UY BEGIN -->
<div id="uyan_frame"></div>
<script type="text/javascript" id="UYScript" src="http://v1.uyan.cc/js/iframe.js?UYUserId=89665" async=""></script>
<!-- UY END -->

  
  <div class="footer">
    <div class="contact">
      <p>
        Weibo<br />
        Twitter<br />
        Google Plus <br/>
        Email&Gtalk<br/>
      </p>
    </div>
    <div class="contact">
      <p>
        <a href="http://weibo.com/zhanghaibo">@timger</a><br />
        <a href="http://twitter.com/yishenggudou/">@yishenggudou</a><br />
        <a href="#">@timger</a><br/>
        yishenggudou#gmail.com
      </p>
    </div>
    <div class="rss">
      <a href="http://feeds.feedburner.com/tom-preston-werner">
        <img src="/images/rss.png" alt="Subscribe to RSS Feed" />
      </a>
    </div>
  </div>
</div>

<!--<a href="http://github.com/mojombo"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" /></a>
-->
<!-- ClickTale Bottom part -->
<div id="ClickTaleDiv" style="display: none;"></div>
<script type="text/javascript">
if(document.location.protocol!='https:')
  document.write(unescape("%3Cscript%20src='http://s.clicktale.net/WRb.js'%20type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
if(typeof ClickTale=='function') ClickTale(206,0.3,"www03");
</script>
<!-- ClickTale end of Bottom part -->

<!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29124639-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- Google Analytics end -->

</body>
</html>
